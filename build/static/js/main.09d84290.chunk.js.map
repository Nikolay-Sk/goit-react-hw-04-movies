{"version":3,"sources":["pages/Cast/Cast.module.css","services/api.js","routes.js","pages/HomePage/HomePage.js","pages/Cast/Cast.js","pages/Reviews/Reviews.js","pages/MovieDetailsPage/MovieDetailsPage.js","components/SearchForm/SearchForm.js","pages/MoviesPage/MoviesPage.js","App.js","index.js"],"names":["module","exports","basicUrl","key","searchMovie","query","axios","get","HomePage","state","popular","then","resData","console","log","setState","data","results","this","map","el","to","routes","id","title","Component","Cast","cast","movieId","props","match","params","Res","className","styles","list","image","src","profile_path","alt","name","character","Reviews","reviews","author","content","MovieDetailsPage","searchFilm","genres","onBackButton","history","goBack","url","onClick","type","poster_path","original_title","release_date","vote_average","overview","reduce","acc","exact","path","component","SearchForm","input","onChange","e","target","value","handleSubmit","preventDefault","onSubmit","MoviesPage","searchFilms","API","push","pathname","search","location","getMovies","URLSearchParams","App","films","ReactDOM","render","document","querySelector"],"mappings":"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","file":"static/js/main.09d84290.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"image\":\"Cast_image__pFL1u\",\"list\":\"Cast_list__35Gie\"};","import axios from \"axios\";\n\nconst basicUrl = \"https://api.themoviedb.org/3\";\nconst key = \"f6dc6a80ab643da3afb0355d292a0e10\";\n\nexport const popularFilms = () =>\n  axios.get(`${basicUrl}/trending/movie/week?api_key=${key}`);\n\nexport const searchInfo = (id) =>\n  axios.get(`${basicUrl}/movie/${id}?api_key=${key}`);\n\nexport const searchMovie = (query = \"batman\") =>\n  axios.get(\n    `${basicUrl}/search/movie?api_key=${key}&language=en-US&page=1&include_adult=false&query=${query}`\n  );\n\nexport const Cast = (id) =>\n  axios.get(`${basicUrl}/movie/${id}/credits?api_key=${key}`);\n\nexport const Reviews = (id) =>\n  axios.get(`${basicUrl}/movie/${id}/reviews?api_key=${key}`);\n","export default {\n  HOME: '/',\n  MOVIES: '/movies',\n  MOVIE_DETAILS: '/movies/:movieId',\n  MOVIE_CAST: '/movies/:movieId/cast',\n  MOVIE_REVIEWS: '/movies/:movieId/reviews',\n};\n","import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport * as API from '../../services/api';\nimport routes from '../../routes';\n\nexport default class HomePage extends Component {\n  state = {\n    popular: [],\n  };\n\n  componentDidMount() {\n    API.popularFilms().then(resData => {\n      console.log(resData);\n      this.setState({ popular: resData.data.results });\n    });\n  }\n\n  render() {\n    const { popular } = this.state;\n    return (\n      <>\n        <h2>Trending today</h2>\n        <ul>\n          {popular.map(el => (\n            <li key={el.id}>\n              <Link to={`${routes.MOVIES}/${el.id}`}>{el.title}</Link>\n            </li>\n          ))}\n        </ul>\n      </>\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport * as API from \"../../services/api\";\nimport styles from \"./Cast.module.css\";\n\nexport default class Cast extends Component {\n  state = {\n    cast: [],\n  };\n\n  componentDidMount() {\n    const { match } = this.props;\n    const { movieId } = match.params;\n    API.Cast(movieId).then((Res) => {\n      console.log(\"Res :\", Res);\n      this.setState({ cast: Res.data.cast });\n    });\n  }\n\n  render() {\n    const { cast } = this.state;\n\n    return (\n      <ul>\n        {cast.map((el) => (\n          <li className={styles.list} key={el.id}>\n            <img\n              className={styles.image}\n              src={`https://image.tmdb.org/t/p/w500${el.profile_path}`}\n              alt=\"\"\n            />\n            <p>{el.name}</p>\n            <p>{el.character}</p>\n          </li>\n        ))}\n      </ul>\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport * as API from \"../../services/api\";\n\nexport default class Reviews extends Component {\n  static propTypes = {\n    match: PropTypes.shape({}).isRequired,\n    movieId: PropTypes.shape({}).isRequired,\n  };\n\n  state = {\n    reviews: [],\n  };\n\n  componentDidMount() {\n    const { match } = this.props;\n    const { movieId } = match.params;\n    API.Reviews(movieId).then((Res) => {\n      console.log(\"Res\", Res);\n      this.setState({ reviews: Res.data.results });\n    });\n  }\n\n  render() {\n    const { reviews } = this.state;\n    return (\n      <ul>\n        {reviews.map((el) => (\n          <li key={el.id}>\n            <p>{el.author}</p>\n            <p>{el.content}</p>\n          </li>\n        ))}\n      </ul>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport { Route, NavLink, Switch } from 'react-router-dom';\nimport * as API from '../../services/api';\nimport routes from '../../routes';\nimport Cast from '../Cast/Cast';\nimport Reviews from '../Reviews/Reviews';\n\nexport default class MovieDetailsPage extends Component {\n  state = {\n    searchFilm: { genres: [] },\n  };\n\n  componentDidMount() {\n    const { match } = this.props;\n    const { movieId } = match.params;\n    console.log('match', match);\n    API.searchInfo(movieId).then(resData => {\n      console.log('resData', resData);\n      this.setState({ searchFilm: resData.data });\n    });\n  }\n\n  onBackButton = () => {\n    const { history } = this.props;\n    history.goBack();\n  };\n\n  render() {\n    const { searchFilm } = this.state;\n    const { match } = this.props;\n    const { url } = match;\n\n    return (\n      <>\n        <div>\n          <button onClick={this.onBackButton} type=\"button\">\n            Go back\n          </button>\n          <img\n            src={`https://image.tmdb.org/t/p/w500${searchFilm.poster_path}`}\n            alt=\"\"\n          />\n          <h2>\n            {searchFilm.original_title} ({searchFilm.release_date})\n          </h2>\n          <p>User score: {searchFilm.vote_average * 10}%</p>\n          <h3>Overview</h3>\n          {/* <br /> */}\n          <p>{searchFilm.overview}</p>\n          <h3>Genres</h3>\n          {searchFilm.genres.reduce((acc, el) => `${acc} ${el.name}`, '')}\n          <ul>\n            <li>\n              <NavLink to={`${url}/cast`}>Cast</NavLink>\n            </li>\n            <li>\n              <NavLink to={`${url}/reviews`}>Reviews</NavLink>\n            </li>\n          </ul>\n          <Switch>\n            <Route exact path={routes.MOVIE_CAST} component={Cast} />\n            <Route exact path={routes.MOVIE_REVIEWS} component={Reviews} />\n          </Switch>\n        </div>\n      </>\n    );\n  }\n}\n","import React, { Component } from 'react';\n\nexport default class SearchForm extends Component {\n  state = {\n    input: '',\n  };\n\n  onChange = e => {\n    this.setState({ input: e.target.value });\n  };\n\n  handleSubmit = e => {\n    e.preventDefault();\n    const { onSubmit } = this.props;\n\n    onSubmit(this.state.input);\n    this.setState({ input: '' });\n  };\n\n  render() {\n    const { value } = this.state;\n    return (\n      <div>\n        <form onSubmit={this.handleSubmit}>\n          <input value={value} onChange={this.onChange} type=\"text\" />\n          <button type=\"submit\">\n            <span>Search film</span>\n          </button>\n        </form>\n      </div>\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport PropTypes from \"prop-types\";\nimport SearchForm from \"../../components/SearchForm/SearchForm\";\nimport * as API from \"../../services/api\";\nimport routes from \"../../routes\";\n\nexport default class MoviesPage extends Component {\n  static propTypes = {\n    history: PropTypes.shape({}).isRequired,\n    location: PropTypes.shape({}).isRequired,\n  };\n\n  state = {\n    query: \"\",\n    searchFilms: [],\n  };\n\n  componentDidMount() {\n    const { location } = this.props;\n    const getMovies = new URLSearchParams(location.search).get(\"query\");\n    console.log(\"getMovies\", getMovies);\n    if (!getMovies) {\n      return;\n    }\n    this.onSubmit(getMovies);\n  }\n\n  onSubmit = (query) => {\n    const { history } = this.props;\n    this.setState({ query });\n    API.searchMovie(query).then((resData) => {\n      console.log(\"resData :\", resData);\n      this.setState({ searchFilms: resData.data.results });\n    });\n    history.push({\n      pathname: history.pathname,\n      search: `query=${query}`,\n    });\n  };\n\n  render() {\n    const { searchFilms } = this.state;\n    return (\n      <div>\n        <SearchForm onSubmit={this.onSubmit} />\n        <ul>\n          {searchFilms.map((el) => (\n            <li key={el.id}>\n              <Link to={`${routes.MOVIES}/${el.id}`}>{el.title}</Link>\n            </li>\n          ))}\n        </ul>\n      </div>\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport { Route, Switch, NavLink } from \"react-router-dom\";\nimport HomePage from \"./pages/HomePage/HomePage\";\nimport MovieDetailsPage from \"./pages/MovieDetailsPage/MovieDetailsPage\";\nimport routes from \"./routes\";\nimport MoviesPage from \"./pages/MoviesPage/MoviesPage\";\n\nexport default class App extends Component {\n  state = {\n    films: [],\n  };\n\n  render() {\n    return (\n      <>\n        <header>\n          <NavLink to={routes.HOME}>Home page</NavLink>\n          <NavLink to={routes.MOVIES}> Movies page</NavLink>\n        </header>\n        <Switch>\n          <Route exact path={routes.HOME} component={HomePage} />\n          <Route path={routes.MOVIE_DETAILS} component={MovieDetailsPage} />\n          <Route exact path={routes.MOVIES} component={MoviesPage} />\n        </Switch>\n      </>\n    );\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { HashRouter } from \"react-router-dom\";\nimport App from \"./App\";\nimport \"./index.css\";\n\nReactDOM.render(\n  <HashRouter>\n    <App />\n  </HashRouter>,\n  document.querySelector(\"#root\")\n);\n"],"sourceRoot":""}